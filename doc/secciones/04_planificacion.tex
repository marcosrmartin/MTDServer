\chapter{Planificación}
En este capítulo se abordarán aspectos esenciales para el desarrollo del proyecto. Se explicara el \textit{midset} y metodología utilizados para establecer y desarrollar los objetivos. Se presentan las historias de usuario que guiarán el desarrollo e hitos como objetivos concretos y como cumplirlos, por último se estiman los costos del proyecto, incluyendo la amortización del hardware. En resumen, este capítulo proporciona una visión general de la estrategia y recursos necesarios para llevar a cabo el proyecto de manera eficiente.

\section{Desarrollo ágil}
La realización de este proyecto se ha llevado a cabo con \textbf{desarrollo ágil}. Este se basa en priorizar la entrega de software funcional, plazos de entregas reducidos, colaboración con el cliente y adaptabilidad frente a cambios. Fue propuesto en 2001, en el \textit{Manifiesto Agile}.\cite{agile}

O de una forma más sencilla, esta metodología nos dice:
\begin{enumerate}
    \item ¿Qué tengo que hacer ahora?
    \item ¿Es correcta la solución que he planteado al problema que estoy resolviendo?
\end{enumerate}

\section{Historias de usuario}
Serán aquellas peticiones que guiarán el desarrollo, es decir son las peticiones a satisfacer para tener un desarrollo correcto. Se han creado las siguientes:
\begin{itemize}
    \item \href{https://github.com/marcosrmartin/MTD_Server/issues/72}{[HU-1]}:  
    Como Sysadmin quiero añadir un sistema MTD para complementar la seguridad de mi servidor contra ataques zero-days/nuevas vulnerabilidades que todavía no tengan soporte. Es imprescindible que requiera el menor número recursos posibles, ya que es un servidor de bajas prestaciones, y que sea autocontenido, es decir, que no requiera de maquinas externas para su manejo.    
    \item \href{https://github.com/marcosrmartin/MTD_Server/issues/73}{[HU-2]}: Como investigador necesitaré conocer el estado del arte de los MTD, encontrar una solución que se ajuste a \#72 y confirmar con benchmarks que dicha solución cumple con su función.
\end{itemize}
A partir de estas historias se creará el camino a seguir para el desarrollo del proyecto.

\section{Historias de desarrollo}
Seran aquellas peticiones que ayudaran a desenvolver el desarrollo, no son requisitos del cliente:

\begin{itemize}
    \item \href{https://github.com/marcosrmartin/MTD_Server/issues/16}{[HD-1]}: Como programador, tengo que preparar el entorno para el desarrollo del \href{https://github.com/marcosrmartin/MTD_Server/commit/20df5bb6f5af3de7e557c254ad47089db34845aa}{MTD}. Entre mis necesidades se encuentran realizar test sobre las implementaciones, gestionar sus dependencias y facilitar el proceso de instalación. Todo esto me permitirá trabajar más cómodamente, a la vez que mejorar el flujo de trabajo.
\end{itemize}

\section{Seguimiento del desarrollo - Hitos}
``Los milestones son herramientas para comenzar a trabajar y organizar el trabajo con un objetivo claro y concreto en cada fase.
''\cite{iv}. Es decir, en cada uno se entregará un producto mínimamente viable, el cual tendrá una serie de requisitos para ser considerado válido.

Aplicando el desarrollo ágil a estos \textit{milestones}, se desarrollarán de forma incremental, es decir que el conjunto de hitos sean una serie de escalones. Esto se hace para reducir el plazo de iteraciones y facilitar la toma de dicisiones. Dichos escalones serán planificados partiendo de las peticiones hechas por los usuarios(HUs).

\section{Temporización}
En el diagrama de Gantt que se presenta a continuación, se detallan las fases clave del proyecto, desde la investigación inicial hasta el desarrollo de los tests y la finalización de la memoria. El calendario cubre desde septiembre de 2023 hasta septiembre de 2024.

\ganttset{calendar week text={}}

\begin{ganttchart}[
    hgrid,
    vgrid,
    x unit=0.3mm, % Ajustar el tamaño horizontal para que todo encaje
    time slot format=isodate,
    time slot unit=day,
]{2023-09-01}{2024-09-06}
    
    % Título de los meses y semanas
    \gantttitlecalendar{year, month=1, week} \\

    % Ejemplos de grupos y tareas
    \ganttbar{Investigación}{2023-09-01}{2023-10-03} \\
    \ganttbar{Entorno LaTeX}{2023-09-14}{2023-10-15} \\
    \ganttbar{Planificación}{2023-10-01}{2023-10-11} \\
    \ganttbar{Entorno de pruebas}{2023-10-23}{2023-11-02} \\
    
    % Desarrollo del MTD en varios periodos, pero en la misma línea
    \ganttbar{Desarrollo del MTD}{2023-12-22}{2024-01-02} % Fecha corregida
    \ganttlinkedbar[inline]{}{2024-01-28}{2024-01-29} 
    \ganttlinkedbar[inline]{}{2024-05-24}{2024-06-02} 
    \ganttlinkedbar[inline]{}{2024-06-24}{2024-06-29} 
    \ganttlinkedbar[inline]{}{2024-08-10}{2024-08-21} \\
    
    % Desarrollo de los tests
    \ganttbar{Desarrollo de los tests}{2024-08-10}{2024-08-21}
    \ganttlinkedbar[inline]{}{2024-08-31}{2024-09-05} \\
    
    % Terminar memoria
    \ganttbar{Terminar memoria}{2024-09-02}{2024-09-06} \\
    
\end{ganttchart}
    

\section{Presupuesto}

\subsection{Hardware}

El equipo utilizado en el proyecto, dentro del grupo de equipos para procesos de información, tiene un coste inicial de 1235 € y se amortiza utilizando el coeficiente máximo de amortización lineal del 33\% anual (equipos para procesos de información)\cite{amortizacion}, equivalente a una vida útil de 3 años. La amortización anual del equipo se calcula de la siguiente manera:

\[
\text{Amortización Anual} = \frac{\text{Coste Inicial} \times \text{Coeficiente de Amortización}}{100} = \frac{1235 \, \text{€} \times 33}{100} = 407.55 \, \text{€}
\]

Dado que la duración del proyecto ha sido de 5 meses, la amortización correspondiente a este período se calcula proporcionalmente:

\[
\text{Amortización del Proyecto} = \text{Amortización Anual} \times \frac{\text{Meses del Proyecto}}{12 \, \text{meses}}
\]

Sustituyendo los valores correspondientes:

\[
\text{Amortización del Proyecto} = 407.55 \, \text{€} \times \frac{5}{12} = 169.81 \, \text{€}
\]

Por lo tanto, el coste asociado a la amortización del equipo durante el período de desarrollo del proyecto es de 169,81 €.

\section{Personal}
El siguiente desglose muestra los costes mensuales y el coste total para los 5 meses del proyecto, tanto para la base mínima como la base máxima de cotización de un ingeniero informático en España\cite{cotizacion}.

\begin{table}[h!]
    \centering
    \begin{tabular}{lrr}
        \toprule
        \textbf{Concepto} & \textbf{Coste Mensual (€)} & \textbf{Coste 5 Meses (€)} \\
        \midrule
        Base Mínima de Cotización & 1.847,40 & 9.237,00 \\
        Cotización Empresa (Base Mínima) & 435,98 & 2.179,90 \\
        Cotización Trabajador (Base Mínima) & 86,63 & 433,15 \\
        \textbf{Total (Base Mínima)} & \textbf{2.369,01} & \textbf{11.845,05} \\
        \midrule
        Base Máxima de Cotización & 4.720,50 & 23.602,50 \\
        Cotización Empresa (Base Máxima) & 1.113,04 & 5.565,20 \\
        Cotización Trabajador (Base Máxima) & 221,87 & 1.109,35 \\
        \textbf{Total (Base Máxima)} & \textbf{6.055,41} & \textbf{30.277,05} \\
        \bottomrule
    \end{tabular}
    \caption{Desglose de costes mensuales y totales para 5 meses en base mínima y máxima de cotización para un ingeniero informático en 2024.}
    \end{table}
        
    
\section{Otros}
    El siguiente desglose muestra los costes indirectos asociados al proyecto, tales como electricidad, internet, y otros servicios.

    \begin{itemize}
        \item \textbf{Potencia media de un ordenador}: 300 W (0.3 kWh).
        \item \textbf{Horas de uso diarias}: 8 horas.
        \item \textbf{Días laborables al mes}: 22 días.
    \end{itemize}
    
    Con el precio de 0,1669 €/kWh:
    
    \[
    \text{Consumo mensual} = 0.3 \, \text{kWh} \times 8 \, \text{h/día} \times 22 \, \text{días} = 52.8 \, \text{kWh}
    \]
    
    \[
    \text{Coste de electricidad mensual} = 52.8 \, \text{kWh} \times 0.1669 \, \text{€/kWh} = 8.81 \, \text{€}
    \]
    
    \begin{table}[h!]
    \centering
    \begin{tabular}{lrr}
        \toprule
        \textbf{Concepto} & \textbf{Coste Mensual (€)} & \textbf{Coste 5 Meses (€)} \\
        \midrule
        Electricidad & 8,81 & 44,05 \\
        Internet & 20,00 & 100,00 \\
        Otros & 20,00 & 100,00 \\
        \textbf{Total} & \textbf{48,81} & \textbf{244,05} \\
        \bottomrule
    \end{tabular}
    \caption{Desglose de costes indirectos mensuales y totales para 5 meses.}
    \end{table}
    

    \subsection{Coste Total de Personal y Hardware}

    El siguiente desglose muestra los costes totales para personal adicional y hardware durante los 5 meses del proyecto.
    

    \begin{table}[h!]
        \centering
        \adjustbox{max width=\textwidth}{
        \begin{tabular}{lrr}
            \toprule
            \textbf{Concepto} & \textbf{Coste Mensual (€)} & \textbf{Coste Total (5 Meses) (€)} \\
            \midrule
            \textbf{Personal} & & \\
            Ingeniero Informático (Base Mínima) & 2.369,01 & 11.845,05 \\
            \textbf{Licencias} & & \\
            Software Libre gratuíto & 0 & 0 \\
            \midrule
            \textbf{Hardware} & & \\
            Ordenador de Desarrollo (Amortización) & 56.61 & 169,81 \\
            \midrule
            \textbf{Costes Indirectos} & & \\
            Electricidad & 8,81 & 44,05 \\
            Internet & 20,00 & 100,00 \\
            Otros & 20,00 & 100,00 \\
            \midrule
            \textbf{Total General} & & \textbf{12.255,75} \\
            \bottomrule
        \end{tabular}
        }
        \caption{Coste total de personal, hardware y costes indirectos durante 5 meses.}
        \end{table}
            


% Ir añadiendo con las implementaciones y toma de dicisiones.
\section{Herramientas}
A continuación se muestra un listado con las herramientas utilizadas en el desarrollo del proyecto:

\begin{itemize}
    \item \textbf{Apache Benchmark}\cite{ab}: Herramienta para realizar pruebas de carga en servidores web, midiendo su rendimiento con diferentes niveles de concurrencia.
    \item \textbf{Behave}\cite{behave}: Framework para pruebas de comportamiento en Python, que sigue la metodología BDD (Behavior-Driven Development).
    \item \textbf{Codecov}\cite{codecov}: Herramienta que mide la cobertura de código en pruebas automatizadas, proporcionando informes detallados.
    \item \textbf{Docker}\cite{docker}: Plataforma que permite crear, desplegar y ejecutar aplicaciones en contenedores, asegurando portabilidad y eficiencia.
    \item \textbf{Firewalld}\cite{firewalld}: Solución de administración de firewall para sistemas Linux, que permite la gestión dinámica de reglas de cortafuegos.
    \item \textbf{Httpd}\cite{apache}: Servidor web Apache, utilizado para alojar y servir sitios web y aplicaciones mediante el protocolo HTTP.
    \item \textbf{Latex}\cite{latex}: Sistema de composición de documentos de alta calidad, ampliamente utilizado en entornos académicos y técnicos.
    \item \textbf{Make}\cite{make}: Herramienta de automatización que ejecuta tareas basadas en dependencias, comúnmente utilizada para compilar proyectos.
    \item \textbf{Matplot}\cite{matplot}: Biblioteca de Python para la creación de gráficos y visualizaciones 2D, comúnmente utilizada en análisis de datos.
    \item \textbf{Netcat}\cite{netcat}: Utilidad de red que permite la lectura y escritura en conexiones de red, utilizada para pruebas y depuración.
    \item \textbf{Nginx}\cite{nginx}: Servidor web y proxy inverso, conocido por su alto rendimiento y capacidad para manejar grandes volúmenes de tráfico.
    \item \textbf{Pandas}\cite{pandas}: Biblioteca de Python para el análisis y manipulación de datos, especialmente útil en estructuras como DataFrames.
    \item \textbf{Poetry}\cite{poetry}: Herramienta de gestión de dependencias y empaquetado para proyectos de Python, que facilita la creación y distribución de paquetes.
    \item \textbf{Poethepoet}\cite{poe}: Gestor de tareas ligero para proyectos de Python, integrado con Poetry, que permite ejecutar scripts de forma eficiente.
    \item \textbf{Python}\cite{python}: Lenguaje de programación de alto nivel, conocido por su simplicidad y su versatilidad en diversas aplicaciones.
    \item \textbf{Sar}\cite{sar}: Herramienta de monitorización de rendimiento del sistema, que proporciona estadísticas sobre el uso de recursos como CPU, memoria y disco.
    \item \textbf{SSH}\cite{ssh}: Protocolo seguro para acceso remoto a sistemas, utilizado para gestionar servidores de manera remota.
    \item \textbf{Sshpass}\cite{sshpass}: Herramienta para automatizar el uso de contraseñas en conexiones SSH, permitiendo scripts sin intervención del usuario.
\end{itemize}
